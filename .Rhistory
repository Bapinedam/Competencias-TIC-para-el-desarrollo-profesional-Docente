View(data)
data_educacion_docente = data %>% select(`Número de identificación`,
`¿Cuál es su máximo nivel educativo? [Bachiller]`,
`¿Cuál es su máximo nivel educativo? [Normalista superior]`,
`¿Cuál es su máximo nivel educativo? [Técnico o tecnólogo]`,
`¿Cuál es su máximo nivel educativo? [Profesional universitario]`,
`¿Cuál es su máximo nivel educativo? [Especialización]`,
`¿Cuál es su máximo nivel educativo? [Maestría]`,
`¿Cuál es su máximo nivel educativo? [Doctorado]`) %>%
pivot_longer(cols = 2:8, names_to = "Aprobación")
data_educacion_docente = data_educacion_docente[complete.cases(data_educacion_docente[, "value"]), ]
data_educacion_docente = data_educacion_docente[data_educacion_docente$value == "^Aprobado", ]
unique(data_educacion_docente$value)
data_educacion_docente = data %>% select(`Número de identificación`,
`¿Cuál es su máximo nivel educativo? [Bachiller]`,
`¿Cuál es su máximo nivel educativo? [Normalista superior]`,
`¿Cuál es su máximo nivel educativo? [Técnico o tecnólogo]`,
`¿Cuál es su máximo nivel educativo? [Profesional universitario]`,
`¿Cuál es su máximo nivel educativo? [Especialización]`,
`¿Cuál es su máximo nivel educativo? [Maestría]`,
`¿Cuál es su máximo nivel educativo? [Doctorado]`) %>%
pivot_longer(cols = 2:8, names_to = "Aprobación")
data_educacion_docente = data_educacion_docente[complete.cases(data_educacion_docente[, "value"]), ]
unique(data_educacion_docente$value)
data_educacion_docente = data %>% select(`Número de identificación`,
`¿Cuál es su máximo nivel educativo? [Bachiller]`,
`¿Cuál es su máximo nivel educativo? [Normalista superior]`,
`¿Cuál es su máximo nivel educativo? [Técnico o tecnólogo]`,
`¿Cuál es su máximo nivel educativo? [Profesional universitario]`,
`¿Cuál es su máximo nivel educativo? [Especialización]`,
`¿Cuál es su máximo nivel educativo? [Maestría]`,
`¿Cuál es su máximo nivel educativo? [Doctorado]`) %>%
pivot_longer(cols = 2:8, names_to = "Aprobación")
data_educacion_docente = data_educacion_docente[complete.cases(data_educacion_docente[, "value"]), ]
data_educacion_docente = data_educacion_docente[data_educacion_docente$value == "Aprobado", ]
data_educacion_docente$Aprobación = gsub("^¿Cuál es su máximo nivel educativo? *", "", data_educacion_docente$Aprobación)
data_educacion_docente$Aprobación = gsub("^[?[]", "", data_educacion_docente$Aprobación)
data_educacion_docente$Aprobación = gsub("\\[", "", data_educacion_docente$Aprobación)
data_educacion_docente$Aprobación = gsub("\\]", "", data_educacion_docente$Aprobación)
data_educacion_docente$Aprobación = gsub("^ ", "", data_educacion_docente$Aprobación)
data_educacion_docente = data_educacion_docente[order(data_educacion_docente$`Número de identificación`, data_educacion_docente$Aprobación), ]
data_educacion_docente$Nivel = data_educacion_docente$Aprobación
data_educacion_docente$Nivel = stringr::str_replace_all(pattern = c("Bachiller" = "1",
"Normalista superior" = "2",
"Técnico o tecnólogo" = "3",
"Profesional universitario" = "4",
"Especialización" = "5",
"Maestría" = "6"), data_educacion_docente$Nivel)
data_educacion_docente = data_educacion_docente %>% group_by(`Número de identificación`) %>%
top_n(1, Nivel)
data_educacion_docente = data_educacion_docente %>% group_by(`Aprobación`) %>% tally()
View(data_educacion_docente)
data_educacion_docente$Porcentaje = data_educacion_docente$n / sum(data_educacion_docente$n)
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0)
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1, color="white") +
coord_polar("y", start = 0)
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1, color="white") +
coord_polar("y", start = 0) +
theme_void()
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1, color="white") +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_void()
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1, color="white") +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_bw()
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1, color="white") +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_minimal()
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1, color="white") +
scale_y_continuous(labels = percent_format()) +
#  coord_polar("y", start = 0) +
theme_minimal()
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1, color="white") +
scale_y_continuous(labels = percent_format()) +
#  coord_polar("y", start = 0) +
theme_minimal() +
theme(axis.text.x=element_blank())
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1, color="white") +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_minimal() +
theme(axis.text.x=element_blank())
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1, color="white") +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_minimal() +
geom_text(aes(y = lab.ypos, label = prop), color = "white")
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1, color="white") +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_minimal() +
geom_text(aes(y = lab.ypos, label = Porcentaje), color = "white")
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1, color="white") +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_minimal() +
geom_text(aes(y = Porcentaje, label = Porcentaje), color = "white")
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1, color="white") +
geom_text(aes(y = Porcentaje, label = Porcentaje), color = "white") +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_minimal()
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1, color="white") +
geom_text(aes(y = Porcentaje, label = Porcentaje), color = "white") +
scale_y_continuous(labels = percent_format()) +
theme_void() +
theme(legend.position="none") +
geom_text(aes(y = Porcentaje, label = `Aprobación`), color = "white", size=6) +
scale_fill_brewer(palette="Set1")
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1, color="white") +
geom_text(aes(y = Porcentaje, label = Porcentaje), color = "white") +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_void() +
theme(legend.position="none") +
geom_text(aes(y = Porcentaje, label = `Aprobación`), color = "white", size=6) +
scale_fill_brewer(palette="Set1")
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1, color="white") +
geom_text(aes(y = Porcentaje, label = Porcentaje), color = "white") +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_void() +
theme(legend.position="none") +
geom_text(aes(y = Porcentaje, label = `Aprobación`), color = "white", size=6)
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1) +
geom_text(aes(y = Porcentaje, label = Porcentaje), color = "white") +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_void() +
theme(legend.position="none") +
geom_text(aes(y = Porcentaje, label = `Aprobación`), color = "white", size=6)
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1) +
geom_text(aes(y = Porcentaje, label = Porcentaje), color = "white") +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_void() +
theme(legend.position="none") +
geom_text(aes(y = Porcentaje, label = `Aprobación`), color = "white", size=2)
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1) +
geom_text(aes(y = Porcentaje, label = Porcentaje), color = "white") +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_void() +
theme(legend.position="none") +
geom_text(aes(y = Porcentaje), color = "white", size=2)
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1) +
geom_text(aes(y = Porcentaje, label = Porcentaje), color = "white") +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_void() +
theme(legend.position="none")
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1) +
geom_text(aes(y = Porcentaje, label = Porcentaje), color = "white") +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_minimal() +
theme(legend.position="none")
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1) +
geom_text(aes(y = Porcentaje, label = Porcentaje), color = "white") +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_minimal()
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1, color="white") +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_void() +
theme(legend.position="none") +
geom_text(aes(y = Porcentaje, label = `Aprobación`), color = "white", size=6) +
scale_fill_brewer(palette="Set1")
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1, color="white") +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_void() +
theme(legend.position="none") +
geom_text(aes(y = Porcentaje, label = `Aprobación`), color = "white", size=6)
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1, color="white") +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_void() +
theme(legend.position="none") +
geom_text(aes(y = Porcentaje, label = `Aprobación`), color = "white", size=4)
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1) +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_void() +
theme(legend.position="none") +
geom_text(aes(y = Porcentaje, label = `Aprobación`), color = "white", size=4)
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1) +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_void() +
geom_text(aes(y = Porcentaje, label = `Aprobación`), color = "white", size=4)
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1) +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_void() +
geom_text(aes(y = Porcentaje, label = Porcentaje*100), color = "white", size=4)
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1) +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_void() +
geom_text(aes(y = Porcentaje, label = round(Porcentaje*100, 0)), color = "white", size=4)
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1) +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_void() +
geom_text(aes(y = Porcentaje, label = round(Porcentaje*100, 0)), color = "white", size=4, position=position_stack(vjust=0.5))
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1) +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_void() +
geom_text(aes(y = Porcentaje, label = round(Porcentaje*100, 0)), color = "white", size=6, position=position_stack(vjust=0.5))
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1) +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_void() +
geom_text(aes(y = Porcentaje, label = round(Porcentaje*100, 0)), color = "white", size=6, position=position_stack(vjust=0.7))
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1) +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_void() +
geom_text(aes(y = Porcentaje, label = round(Porcentaje*100, 0)), color = "white", size=6, position=position_stack(vjust=0.9))
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1) +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_void() +
geom_text(aes(y = Porcentaje, label = round(Porcentaje*100, 0)), color = "white", size=6, position=position_stack(vjust=0.5))
ggplot(data = data_educacion_docente, aes(x = "", y = Porcentaje, fill = `Aprobación`)) +
geom_bar(stat = "identity", width = 1) +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_void() +
geom_text(aes(y = Porcentaje, label = percent(Porcentaje)), color = "white", size=6, position=position_stack(vjust=0.5))
View(columnas)
library(dplyr)
library(googlesheets4)
library(ggplot2)
library(scales)
library(tidyverse)
data_estatuto = data %>% select(`¿En qué estatuto docente se encuentra actualmente?`) %>% group_by(`¿En qué estatuto docente se encuentra actualmente?`) %>% tally()
data_estatuto$Porcentaje = data_estatuto$n / sum(data_estatuto$n)
ggplot(data = data_estatuto, aes(x = `¿En qué estatuto docente se encuentra actualmente?`, y = Porcentaje)) +
geom_bar(stat = "identity", fill="#f68060", alpha=.6, width=.4) +
scale_y_continuous(labels = percent_format()) +
ylab("") +
theme_bw()
data_departamento = data %>% select(Departamento)
View(data_departamento)
data_departamento = data %>% select(`Número de identificación`, Departamento)
data_departamento$Departamento <- chartr("áéíóú", "aeiou", data_departamento$Departamento)
data_departamento$Departamento <- str_to_upper(data_departamento$Departamento)
data_departamento$Departamento <- gsub("_", " ", data_departamento$Departamento)
data_departamento$Departamento <- gsub("  ", " ", data_departamento$Departamento)
data_departamento$Departamento <- gsub(" $", "", data_departamento$Departamento)
data_departamento$Departamento <- gsub("^ ", "", data_departamento$Departamento)
unique(data_departamento$Departamento)
upper("áéíóú")
str_to_upper("áéíóú")
str_to_upper("aeiou")
data_departamento$Departamento <- chartr("ÁÉÍÓÚ", "AEIOU", data_departamento$Departamento)
unique(data_departamento$Departamento)
data_departamento$Departamento <- chartr("À", "A", data_departamento$Departamento)
data_departamento$Departamento <- chartr("VALLE", "VALLE DEL CAUCA", data_departamento$Departamento)
unique(data_departamento$Departamento)
data_departamento2 = data_departamento %>% group_by(`Departamento`) %>%
tally()
data_departamento2 = data_departamento2[complete.cases(data_departamento2[,1]), ]
data_departamento2$Porcentaje = data_departamento2$n / sum(data_departamento2$n)
data_departamento2 %>% arrange(Porcentaje) %>%    # First sort by val. This sort the dataframe but NOT the factor levels
mutate(name=factor(Departamento, levels=Departamento)) %>%   # This trick update the factor levels
ggplot(aes(x=name, y=Porcentaje)) +
scale_y_continuous(labels = percent_format()) +
geom_segment(aes(xend=name, yend=0)) +
geom_point( size=4, color="orange") +
coord_flip() +
theme_bw() +
xlab("")
View(data_departamento)
data_departamento[45,2]
data_departamento[37,2]
View(data_departamento2)
data_departamento$Departamento <- chartr("VALLE", "VALLE DEL CAUCA", data_departamento$Departamento)
data_departamento[37,2]
data_departamento$Departamento <- chartr("^VALLE$", "VALLE DEL CAUCA", data_departamento$Departamento)
data_departamento[37,2]
data_departamento = data %>% select(`Número de identificación`, Departamento)
data_departamento$Departamento <- chartr("áéíóú", "aeiou", data_departamento$Departamento)
data_departamento$Departamento <- str_to_upper(data_departamento$Departamento)
data_departamento$Departamento <- gsub("_", " ", data_departamento$Departamento)
data_departamento$Departamento <- gsub("  ", " ", data_departamento$Departamento)
data_departamento$Departamento <- gsub(" $", "", data_departamento$Departamento)
data_departamento$Departamento <- gsub("^ ", "", data_departamento$Departamento)
data_departamento$Departamento <- chartr("ÁÉÍÓÚ", "AEIOU", data_departamento$Departamento)
data_departamento$Departamento <- chartr("À", "A", data_departamento$Departamento)
data_departamento$Departamento <- chartr("VALLE$", "VALLE DEL CAUCA", data_departamento$Departamento)
data_departamento2 = data_departamento %>% group_by(`Departamento`) %>%
tally()
data_departamento2 = data_departamento2[complete.cases(data_departamento2[,1]), ]
data_departamento2$Porcentaje = data_departamento2$n / sum(data_departamento2$n)
data_departamento2 %>% arrange(Porcentaje) %>%    # First sort by val. This sort the dataframe but NOT the factor levels
mutate(name=factor(Departamento, levels=Departamento)) %>%   # This trick update the factor levels
ggplot(aes(x=name, y=Porcentaje)) +
scale_y_continuous(labels = percent_format()) +
geom_segment(aes(xend=name, yend=0)) +
geom_point( size=4, color="orange") +
coord_flip() +
theme_bw() +
xlab("")
data_departamento$Departamento <- gsub("VALLE$", "VALLE DEL CAUCA", data_departamento$Departamento)
data_departamento = data %>% select(`Número de identificación`, Departamento)
data_departamento$Departamento <- chartr("áéíóú", "aeiou", data_departamento$Departamento)
data_departamento$Departamento <- str_to_upper(data_departamento$Departamento)
data_departamento$Departamento <- gsub("_", " ", data_departamento$Departamento)
data_departamento$Departamento <- gsub("  ", " ", data_departamento$Departamento)
data_departamento$Departamento <- gsub(" $", "", data_departamento$Departamento)
data_departamento$Departamento <- gsub("^ ", "", data_departamento$Departamento)
data_departamento$Departamento <- chartr("ÁÉÍÓÚ", "AEIOU", data_departamento$Departamento)
data_departamento$Departamento <- chartr("À", "A", data_departamento$Departamento)
data_departamento$Departamento <- gsub("VALLE$", "VALLE DEL CAUCA", data_departamento$Departamento)
data_departamento2 = data_departamento %>% group_by(`Departamento`) %>%
tally()
data_departamento2 = data_departamento2[complete.cases(data_departamento2[,1]), ]
data_departamento2$Porcentaje = data_departamento2$n / sum(data_departamento2$n)
data_departamento2 %>% arrange(Porcentaje) %>%    # First sort by val. This sort the dataframe but NOT the factor levels
mutate(name=factor(Departamento, levels=Departamento)) %>%   # This trick update the factor levels
ggplot(aes(x=name, y=Porcentaje)) +
scale_y_continuous(labels = percent_format()) +
geom_segment(aes(xend=name, yend=0)) +
geom_point( size=4, color="orange") +
coord_flip() +
theme_bw() +
xlab("")
unique(data$`Rol en su comunidad educativa`)
data_rol = data %>% select(`Rol en su comunidad educativa`) %>% group_by(`Rol en su comunidad educativa`) %>% tally()
data_rol$Porcentaje = data_rol$n / sum(data_rol$n)
ggplot(data = data_rol, aes(x = `Rol en su comunidad educativa`, y = Porcentaje)) +
geom_bar(stat = "identity", fill="#f68060", alpha=.6, width=.4) +
scale_y_continuous(labels = percent_format()) +
ylab("") +
theme_bw()
data_rol %>% arrange(Porcentaje) %>%    # First sort by val. This sort the dataframe but NOT the factor levels
mutate(name=factor(Departamento, levels=Departamento)) %>%   # This trick update the factor levels
ggplot(aes(x=name, y=Porcentaje)) +
geom_bar(stat = "identity", fill="#f68060", alpha=.6, width=.4) +
scale_y_continuous(labels = percent_format()) +
ylab("") +
theme_bw()
data_rol %>% arrange(Porcentaje) %>%    # First sort by val. This sort the dataframe but NOT the factor levels
mutate(name=factor(`Rol en su comunidad educativa`, levels=`Rol en su comunidad educativa`)) %>%   # This trick update the factor levels
ggplot(aes(x=name, y=Porcentaje)) +
geom_bar(stat = "identity", fill="#f68060", alpha=.6, width=.4) +
scale_y_continuous(labels = percent_format()) +
ylab("") +
theme_bw()
# Autenticación de usuario
gs4_auth()
gs4_auth()
url = gs4_get("https://docs.google.com/spreadsheets/d/1ktKLnH8EcjV6fIBfQsfD6PZa7GKEWnvlshdGimlplJY/edit#gid=906242353")
data = read_sheet(url)
data$`Edad (en años)` = as.numeric(data$`Edad (en años)`)
data = data %>% group_by(`Número de identificación`) %>% top_n(1, `Marca temporal`)
data_rol = data %>% select(`Rol en su comunidad educativa`) %>% group_by(`Rol en su comunidad educativa`) %>% tally()
data_rol$Porcentaje = data_rol$n / sum(data_rol$n)
data_rol %>% arrange(Porcentaje) %>%    # First sort by val. This sort the dataframe but NOT the factor levels
mutate(name=factor(`Rol en su comunidad educativa`, levels=`Rol en su comunidad educativa`)) %>%   # This trick update the factor levels
ggplot(aes(x=name, y=Porcentaje)) +
geom_bar(stat = "identity", fill="#f68060", alpha=.6, width=.4) +
scale_y_continuous(labels = percent_format()) +
ylab("") +
theme_bw()
data_rol = data %>% select(`Rol en su comunidad educativa`) %>% group_by(`Rol en su comunidad educativa`) %>% tally()
data_rol$Porcentaje = data_rol$n / sum(data_rol$n)
data_rol$`Rol en su comunidad educativa` = gsub("Docente Tutor PTA", "Tutor PTA", data_rol$`Rol en su comunidad educativa`)
data_rol %>% arrange(Porcentaje) %>%    # First sort by val. This sort the dataframe but NOT the factor levels
mutate(name=factor(`Rol en su comunidad educativa`, levels=`Rol en su comunidad educativa`)) %>%   # This trick update the factor levels
ggplot(aes(x=name, y=Porcentaje)) +
geom_bar(stat = "identity", fill="#f68060", alpha=.6, width=.4) +
scale_y_continuous(labels = percent_format()) +
ylab("") +
theme_bw()
data_rol = data %>% select(`Rol en su comunidad educativa`) %>% group_by(`Rol en su comunidad educativa`) %>% tally()
data_rol$Porcentaje = data_rol$n / sum(data_rol$n)
data_rol$`Rol en su comunidad educativa` = gsub("Docente Tutor PTA", "Tutor PTA", data_rol$`Rol en su comunidad educativa`)
data_rol %>% arrange(Porcentaje) %>%    # First sort by val. This sort the dataframe but NOT the factor levels
mutate(name=factor(`Rol en su comunidad educativa`, levels=`Rol en su comunidad educativa`)) %>%   # This trick update the factor levels
ggplot(aes(x=name, y=Porcentaje)) +
geom_bar(stat = "identity", fill="#f68060", alpha=.6, width=.4) +
scale_y_continuous(labels = percent_format()) +
ylab("") +
theme_bw()
data_rol = data %>% select(`Número de identificación`, `Rol en su comunidad educativa`) %>% group_by(`Rol en su comunidad educativa`) %>% tally()
View(data_rol)
data_rol$`Rol en su comunidad educativa` = gsub("Docente Tutor PTA", "Tutor PTA", data_rol$`Rol en su comunidad educativa`)
View(data_rol)
data_rol = data %>% select(`Número de identificación`, `Rol en su comunidad educativa`)
data_rol$`Rol en su comunidad educativa` = gsub("Docente Tutor PTA", "Tutor PTA", data_rol$`Rol en su comunidad educativa`)
data_rol$Porcentaje = data_rol$n / sum(data_rol$n) %>% group_by(`Rol en su comunidad educativa`) %>% tally()
data_rol = data %>% select(`Número de identificación`, `Rol en su comunidad educativa`)
data_rol$`Rol en su comunidad educativa` = gsub("Docente Tutor PTA", "Tutor PTA", data_rol$`Rol en su comunidad educativa`)
data_rol$Porcentaje = data_rol$n / sum(data_rol$n)
data_rol = data_rol %>% group_by(`Rol en su comunidad educativa`) %>% tally()
data_rol = data %>% select(`Número de identificación`, `Rol en su comunidad educativa`)
data_rol$`Rol en su comunidad educativa` = gsub("Docente Tutor PTA", "Tutor PTA", data_rol$`Rol en su comunidad educativa`)
data_rol = data_rol %>% group_by(`Rol en su comunidad educativa`) %>% tally()
data_rol$Porcentaje = data_rol$n / sum(data_rol$n)
data_rol %>% arrange(Porcentaje) %>%    # First sort by val. This sort the dataframe but NOT the factor levels
mutate(name=factor(`Rol en su comunidad educativa`, levels=`Rol en su comunidad educativa`)) %>%   # This trick update the factor levels
ggplot(aes(x=name, y=Porcentaje)) +
geom_bar(stat = "identity", fill="#f68060", alpha=.6, width=.4) +
scale_y_continuous(labels = percent_format()) +
ylab("") +
theme_bw()
data_estatuto = data %>% select(`¿En qué estatuto docente se encuentra actualmente?`) %>% group_by(`¿En qué estatuto docente se encuentra actualmente?`) %>% tally()
data_estatuto$Porcentaje = data_estatuto$n / sum(data_estatuto$n)
ggplot(data = data_estatuto, aes(x = `¿En qué estatuto docente se encuentra actualmente?`, y = Porcentaje)) +
geom_bar(stat = "identity", fill="darkorchid", alpha=.6, width=.4) +
scale_y_continuous(labels = percent_format()) +
ylab("") +
theme_bw()
data_estatuto = data %>% select(`¿En qué estatuto docente se encuentra actualmente?`) %>% group_by(`¿En qué estatuto docente se encuentra actualmente?`) %>% tally()
data_estatuto$Porcentaje = data_estatuto$n / sum(data_estatuto$n)
ggplot(data = data_estatuto, aes(x = `¿En qué estatuto docente se encuentra actualmente?`, y = Porcentaje)) +
geom_bar(stat = "identity", fill="darkorchid", alpha=.6, width=.4) +
scale_y_continuous(labels = percent_format()) +
ylab("") +
theme_bw()
data_estatuto = data %>% select(`¿En qué estatuto docente se encuentra actualmente?`) %>% group_by(`¿En qué estatuto docente se encuentra actualmente?`) %>% tally()
data_estatuto$Porcentaje = data_estatuto$n / sum(data_estatuto$n)
ggplot(data = data_estatuto, aes(x = `¿En qué estatuto docente se encuentra actualmente?`, y = Porcentaje)) +
geom_bar(stat = "identity", fill="dodgerblue", alpha=.6, width=.4) +
scale_y_continuous(labels = percent_format()) +
ylab("") +
theme_bw()
data_departamento = data %>% select(`Número de identificación`, Departamento)
data_departamento$Departamento <- chartr("áéíóú", "aeiou", data_departamento$Departamento)
data_departamento$Departamento <- str_to_upper(data_departamento$Departamento)
data_departamento$Departamento <- gsub("_", " ", data_departamento$Departamento)
data_departamento$Departamento <- gsub("  ", " ", data_departamento$Departamento)
data_departamento$Departamento <- gsub(" $", "", data_departamento$Departamento)
data_departamento$Departamento <- gsub("^ ", "", data_departamento$Departamento)
data_departamento$Departamento <- chartr("ÁÉÍÓÚ", "AEIOU", data_departamento$Departamento)
data_departamento$Departamento <- chartr("À", "A", data_departamento$Departamento)
data_departamento$Departamento <- gsub("VALLE$", "VALLE DEL CAUCA", data_departamento$Departamento)
data_departamento2 = data_departamento %>% group_by(`Departamento`) %>%
tally()
data_departamento2 = data_departamento2[complete.cases(data_departamento2[,1]), ]
data_departamento2$Porcentaje = data_departamento2$n / sum(data_departamento2$n)
data_departamento2 %>% arrange(Porcentaje) %>%    # First sort by val. This sort the dataframe but NOT the factor levels
mutate(name=factor(Departamento, levels=Departamento)) %>%   # This trick update the factor levels
ggplot(aes(x=name, y=Porcentaje)) +
scale_y_continuous(labels = percent_format()) +
geom_segment(aes(xend=name, yend=0)) +
geom_point( size=4, color="indianred1") +
coord_flip() +
theme_bw() +
xlab("")
unique(data$`Área o asignatura que lidera, orienta o imparte`)
unique(data$`Área de trabajo para la construcción del RED u OVA`)
data_asignatura = data_asignatura %>% group_by(`Área de trabajo para la construcción del RED u OVA`) %>% tally()
data_asignatura$Porcentaje = data_asignatura$n / sum(data_asignatura$n)
ggplot(data = data_asignatura, aes(x = "", y = Porcentaje, fill = `Área de trabajo para la construcción del RED u OVA`)) +
geom_bar(stat = "identity", width = 1) +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_void() +
geom_text(aes(y = Porcentaje, label = percent(Porcentaje)), color = "white", size=6, position=position_stack(vjust=0.5))
data_asignatura = data %>% group_by(`Área de trabajo para la construcción del RED u OVA`) %>% tally()
data_asignatura$Porcentaje = data_asignatura$n / sum(data_asignatura$n)
ggplot(data = data_asignatura, aes(x = "", y = Porcentaje, fill = `Área de trabajo para la construcción del RED u OVA`)) +
geom_bar(stat = "identity", width = 1) +
scale_y_continuous(labels = percent_format()) +
coord_polar("y", start = 0) +
theme_void() +
geom_text(aes(y = Porcentaje, label = percent(Porcentaje)), color = "white", size=6, position=position_stack(vjust=0.5))
