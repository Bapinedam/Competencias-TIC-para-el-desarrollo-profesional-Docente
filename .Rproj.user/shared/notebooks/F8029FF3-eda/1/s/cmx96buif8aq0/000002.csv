"0","data_departamento = data %>% select(`Número de identificación`, Departamento)"
"0",""
"0","data_departamento$Departamento <- chartr(""áéíóú"", ""aeiou"", data_departamento$Departamento)"
"0","data_departamento$Departamento <- str_to_upper(data_departamento$Departamento)"
"0","data_departamento$Departamento <- gsub(""_"", "" "", data_departamento$Departamento)"
"0","data_departamento$Departamento <- gsub(""  "", "" "", data_departamento$Departamento)"
"0","data_departamento$Departamento <- gsub("" $"", """", data_departamento$Departamento)"
"0","data_departamento$Departamento <- gsub(""^ "", """", data_departamento$Departamento)"
"0","data_departamento$Departamento <- chartr(""ÁÉÍÓÚ"", ""AEIOU"", data_departamento$Departamento)"
"0","data_departamento$Departamento <- chartr(""À"", ""A"", data_departamento$Departamento)"
"0","data_departamento$Departamento <- gsub(""VALLE$"", ""VALLE DEL CAUCA"", data_departamento$Departamento)"
"0",""
"0","data_departamento2 = data_departamento %>% group_by(`Departamento`) %>% "
"0","  tally()"
"0",""
"0","data_departamento2 = data_departamento2[complete.cases(data_departamento2[,1]), ]"
"0",""
"0","data_departamento2$Porcentaje = data_departamento2$n / sum(data_departamento2$n)"
"0",""
"0",""
"0","data_departamento2 %>% arrange(Porcentaje) %>%    # First sort by val. This sort the dataframe but NOT the factor levels"
"0","  mutate(name=factor(Departamento, levels=Departamento)) %>%   # This trick update the factor levels"
"0","  ggplot(aes(x=name, y=Porcentaje)) +"
"0","  scale_y_continuous(labels = percent_format()) +"
"0","  geom_segment(aes(xend=name, yend=0)) +"
"0","  geom_point( size=4, color=""indianred1"") +"
"0","  coord_flip() +"
"0","  theme_bw() +"
"0","  xlab("""")"
